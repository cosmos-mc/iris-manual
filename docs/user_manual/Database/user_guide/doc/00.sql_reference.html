

<!DOCTYPE html>
<html class="writer-html5" lang="ko" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1. SQL Reference &mdash; IRIS Documentation 1.8.0 문서</title>
  

  
  <link rel="stylesheet" href="../../../../_static//css/qgis_docs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
        <script src="../../../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="색인" href="../../../../genindex.html" />
    <link rel="search" title="검색" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home" alt="Documentation Home"> IRIS Documentation
          

          
            
            <img src="../../../../_static/iris-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">For Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">User Guide/Manual</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">IRIS Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">1. </span>SQL Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../_sources/user_manual/Database/user_guide/doc/00.sql_reference.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sql-reference">
<h1><span class="section-number">1. </span>SQL Reference<a class="headerlink" href="#sql-reference" title="제목 주소">¶</a></h1>
<p>IRIS 에서 사용가능한 SQL 문법을 설명합니다.</p>
<div class="section" id="ddl">
<h2><span class="section-number">1.1. </span>DDL<a class="headerlink" href="#ddl" title="제목 주소">¶</a></h2>
<div class="section" id="create-table">
<h3><span class="section-number">1.1.1. </span>CREATE TABLE<a class="headerlink" href="#create-table" title="제목 주소">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">create_table_stmt</span> <span class="p">:</span> <span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">STRING</span> <span class="n">LPAREN</span> <span class="n">table_schema</span> <span class="n">RPAREN</span> <span class="n">table_value</span>

<span class="n">table_schema</span> <span class="p">:</span> <span class="n">column_define_list</span> <span class="n">table_constraint_list</span>

<span class="n">table_value</span> <span class="p">:</span> <span class="n">DATASCOPE</span> <span class="n">STRING</span> <span class="n">RAMEXPIRE</span> <span class="n">value</span> <span class="n">DISKEXPIRE</span> <span class="n">value</span>
              <span class="n">PARTITIONKEY</span> <span class="n">value</span> <span class="n">PARTITIONDATE</span> <span class="n">value</span> <span class="n">PARTITIONRANGE</span> <span class="n">value</span>

<span class="n">column_define_list</span> <span class="p">:</span> <span class="n">column_define</span>
                   <span class="o">|</span> <span class="n">column_define_list</span> <span class="n">COMMA</span> <span class="n">column_define</span>

<span class="n">table_constraint_list</span> <span class="p">:</span> <span class="n">empty</span>
                      <span class="o">|</span> <span class="n">COMMA</span> <span class="n">table_constraint_stmt</span>
                      <span class="o">|</span> <span class="n">COMMA</span> <span class="n">table_constraint_stmt</span> <span class="n">table_constraint_list</span>

<span class="n">table_constraint_stmt</span> <span class="p">:</span> <span class="n">PRIMARY</span> <span class="n">KEY</span> <span class="n">LPAREN</span> <span class="n">indexed_column_list</span> <span class="n">RPAREN</span>
                      <span class="o">|</span> <span class="n">UNIQUE</span> <span class="n">LPAREN</span> <span class="n">indexed_column_list</span> <span class="n">RPAREN</span>

<span class="n">indexed_column_list</span> <span class="p">:</span> <span class="n">indexed_column</span>
                    <span class="o">|</span> <span class="n">indexed_column</span> <span class="n">COMMA</span> <span class="n">indexed_column_list</span>

<span class="n">indexed_column</span> <span class="p">:</span> <span class="n">column_name</span>
               <span class="o">|</span> <span class="n">column_name</span> <span class="n">ASC</span>
               <span class="o">|</span> <span class="n">column_name</span> <span class="n">DESC</span>

<span class="n">column_define</span> <span class="p">:</span> <span class="n">column_name</span> <span class="n">column_type</span> <span class="n">column_constraint_list</span>

<span class="n">column_type</span> <span class="p">:</span> <span class="n">TEXT</span>
            <span class="o">|</span> <span class="n">REAL</span>
            <span class="o">|</span> <span class="n">INTEGER</span>

<span class="n">column_constraint_list</span> <span class="p">:</span> <span class="n">column_constraint</span>
                       <span class="o">|</span> <span class="n">column_constraint_list</span> <span class="n">column_constraint</span>
                       <span class="o">|</span> <span class="n">empty</span>

<span class="n">order_type</span> <span class="p">:</span> <span class="n">empty</span>
           <span class="o">|</span> <span class="n">ASC</span>
           <span class="o">|</span> <span class="n">DESC</span>

<span class="n">column_constraint</span> <span class="p">:</span> <span class="n">NOT</span> <span class="n">NULL</span>
                  <span class="o">|</span> <span class="n">DEFAULT</span> <span class="n">value</span>
                  <span class="o">|</span> <span class="n">UNIQUE</span>
                  <span class="o">|</span> <span class="n">PRIMARY</span> <span class="n">KEY</span> <span class="n">autoincrement</span>

<span class="n">autoincrement</span> <span class="p">:</span> <span class="n">AUTOINCREMENT</span>
              <span class="o">|</span> <span class="n">empty</span>
</pre></div>
</div>
<p>일반적인 CREATE SQL 아래에 IRIS 테이블 옵션이 추가됩니다.</p>
<p>테이블 옵션은 모두 설정해야 합니다. 테이블 옵션의 설명은 아래에 소개되어
있습니다.</p>
<p>아래의 예시는 IRIS의 local table을 만드는 예시입니다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">LOCAL_TEST_TABLE</span> <span class="p">(</span>
   <span class="n">k</span>         <span class="n">TEXT</span><span class="p">,</span>
   <span class="n">p</span>         <span class="n">TEXT</span><span class="p">,</span>
   <span class="n">a</span>         <span class="n">TEXT</span>
<span class="p">)</span>
<span class="n">datascope</span>       <span class="n">LOCAL</span>
<span class="n">ramexpire</span>       <span class="mi">30</span>
<span class="n">diskexpire</span>      <span class="mi">34200</span>
<span class="n">partitionkey</span>    <span class="n">k</span>
<span class="n">partitiondate</span>   <span class="n">p</span>
<span class="n">partitionrange</span>  <span class="mi">10</span>
<span class="p">;</span>
</pre></div>
</div>
<div class="section" id="iris">
<h4><span class="section-number">1.1.1.1. </span>IRIS 테이블 옵션<a class="headerlink" href="#iris" title="제목 주소">¶</a></h4>
<p>IRIS에서는 테이블을 생성시 테이블의 타입 및 보관 주기등을 설정해 주어야
합니다.</p>
<ul class="simple">
<li><p>datascope : 데이터 저장 방식 설정 [ LOCAL OR GLOBAL ]</p></li>
<li><p>ramexpire : 램에 저장하는 시간 [ GLOBAL 테이블일 경우 0 ]</p></li>
<li><p>diskexpire : 디스크에 저장하는 시간 [ GLOBAL 테이블 경우 0 ]</p></li>
<li><p>partitionkey : KEY 로 사용할 값이 저장되는 컬럼 [ GLOBAL 테이블 경우
None ]</p></li>
<li><p>partitiondate : PARTITION으로 사용할 값이 저장되는 컬럼 [ GLOBAL
테이블 경우 None ]</p></li>
<li><p>partitionragne : 하나의 PARTITION 이 가지는 범위 [ GLOBAL 테이블 경우
0 ]</p></li>
</ul>
</div>
<div class="section" id="column-constraint">
<h4><span class="section-number">1.1.1.2. </span>지원하는 column-constraint<a class="headerlink" href="#column-constraint" title="제목 주소">¶</a></h4>
<ul>
<li><p>PRIMARY KEY [|ASC|DESC] [AUTOINCREMENT]</p>
<div class="line-block">
<div class="line">GLOBAL TABLE 에서만 정상동작합니다.</div>
<div class="line">PRIMARY KEY 는 NULL 을 허용합니다. DESC 옵션은 현재 정상지원하지</div>
</div>
<p>않으며 ASC와 동일하게 동작합니다. 모든 컬럼타입에서 동작합니다.</p>
</li>
<li><p>INTEGER PRIMARY KEY 컬럼</p>
<p>INTEGER PRIMARY KEY 컬럼은 기본적으로 값증가기능(autoincrement)이
적용되어 있습니다.</p>
<p>정수형 데이터만 insert, update가 가능합니다. (예외로, NULL 값을
insert 하는 경우 키값을 생성해서 (현재 최대값+1) 넣습니다. 이외의
경우에는 datatype mismatch 오류를 출력합니다.)</p>
<p>AUTOINCREMENT 옵션은 INTEGER PRIMARY KEY 컬럼 만 가능합니다.</p>
<p>INTEGER PRIMARY KEY 컬럼에 AUTOINCREMENT 옵션을 넣으면 키값 생성
알고리즘이 변경되어 키값의 《monotonically increasing》 이 보장됩니다.</p>
<p>AUTOINCREMENT 옵션 없을때 : 다음 키값이 키값의
최대값(9223372036854775807)을 넘으면 임의(랜덤)의 수를 현재 최
대키값으로 잡고 다음 키값을 생성합니다. (unique 속성 보장)</p>
<p>AUTOINCREMENT 옵션 있을때 : 다음 키값이 키값의
최대값(9223372036854775807)을 넘으면 ”database or disk is full” 오
류메세지를 출력합니다.</p>
<p>AUTOINCREMENT 옵션은 ASC 또는 공백만 허용합니다. (공백이면 ASC로
설정합니다.)</p>
</li>
<li><p>DEFAULT {default-value}</p>
<p>컬럼 기본값을 설정합니다.</p>
</li>
<li><p>NOT NULL</p>
<p>NULL 값이 들어오면 오류를 발생합니다. LOAD 작업시, 해당되는 데이터는
무시되고 나머지 데이터만 저장됩니다.</p>
</li>
<li><p>UNIQUE</p>
<p>중복값이 들어오면 오류를 발생합니다. GLOBAL TABLE 에서만
정상동작합니다.</p>
</li>
</ul>
</div>
<div class="section" id="table-constraint">
<h4><span class="section-number">1.1.1.3. </span>지원하는 table-constraint<a class="headerlink" href="#table-constraint" title="제목 주소">¶</a></h4>
<ul>
<li><p>PRIMARY KEY ( ColumnName [, ColumnName] )</p>
<p>GLOBAL TABLE 에서만 정상동작합니다.</p>
<p>각 테이블별로 PRIMARY KEY 설정은 한 번만 할 수 있습니다. (위의
column-constraint 에서 이미 PRIMARY KEY 를 설정했다면
table-constraint 에서 설정할 수 없습니다.)</p>
<p>PRIMARY KEY 는 NULL 을 허용합니다.</p>
</li>
<li><p>UNIQUE ( ColumnName [, ColumnName] )</p>
<p>GLOBAL TABLE 에서만 정상동작합니다.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="drop-table">
<h3><span class="section-number">1.1.2. </span>DROP TABLE<a class="headerlink" href="#drop-table" title="제목 주소">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">drop_table_stmt</span> <span class="p">:</span> <span class="n">DROP</span> <span class="n">TABLE</span> <span class="n">if_exists</span> <span class="n">STRING</span>
</pre></div>
</div>
<p>테이블을 삭제합니다.</p>
<p>LOCAL 테이블을 삭제하면, 쿼리 실행시에는 메타데이터만 삭제하며 실제
파일은 백그라운드에서 삭제합니다.</p>
<p>아래는 LOCAL_TEST_TABLE 을 삭제하는 예제입니다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DROP</span> <span class="n">TABLE</span> <span class="n">LOCAL_TEST_TABLE</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="create-index">
<h3><span class="section-number">1.1.3. </span>CREATE INDEX<a class="headerlink" href="#create-index" title="제목 주소">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">create_index_stmt</span> <span class="p">:</span> <span class="n">CREATE</span> <span class="n">INDEX</span> <span class="n">STRING</span> <span class="n">ON</span> <span class="n">STRING</span> <span class="n">LPAREN</span> <span class="n">indexed_column_list</span> <span class="n">RPAREN</span>
                  <span class="o">|</span> <span class="n">CREATE</span> <span class="n">UNIQUE</span> <span class="n">INDEX</span> <span class="n">STRING</span> <span class="n">ON</span> <span class="n">STRING</span> <span class="n">LPAREN</span> <span class="n">indexed_column_list</span> <span class="n">RPAREN</span>

<span class="n">indexed_column_list</span> <span class="p">:</span> <span class="n">indexed_column</span>
                    <span class="o">|</span> <span class="n">indexed_column</span> <span class="n">COMMA</span> <span class="n">indexed_column_list</span>

<span class="n">indexed_column</span> <span class="p">:</span> <span class="n">column_name</span>
               <span class="o">|</span> <span class="n">column_name</span> <span class="n">ASC</span>
               <span class="o">|</span> <span class="n">column_name</span> <span class="n">DESC</span>
</pre></div>
</div>
<p>인덱스를 생성합니다. GLOBAL테이블의 경우에는 해당 명령어를 그대로
사용하시면 됩니다.</p>
<p>하지만, LOCAL테이블의 경우에는 해당 명령어를 사용하면 존재하는 모든
데이터에 대해서 인덱스를 생성하게 됩니다.</p>
<p>따라서 데이터가 많이 저장되어 있을 경우 서비스에 장애가 발생할 수도
있습니다.</p>
<p>따라서 새로 저장되는 데이터부터 인덱스를 생성하는 것이 안전하며, 방법은
DotCommand인 .table index add 를 사용하면 됩니다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">use</span> <span class="n">DDL</span><span class="p">:</span>
<span class="n">CREATE</span> <span class="n">INDEX</span> <span class="n">LOCAL_TEST_TABLE_IDX</span> <span class="n">ON</span> <span class="n">LOCAL_TEST_TABLE</span> <span class="p">(</span><span class="n">a</span> <span class="n">desc</span><span class="p">);</span>

<span class="n">use</span> <span class="n">DotCommand</span><span class="p">:</span>
<span class="o">.</span><span class="n">table</span> <span class="n">index</span> <span class="n">add</span> <span class="n">LOCAL_TEST_TABLE</span> <span class="n">LOCAL_TEST_TABLE</span> <span class="p">(</span><span class="n">a</span> <span class="n">desc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="drop-index">
<h3><span class="section-number">1.1.4. </span>DROP INDEX<a class="headerlink" href="#drop-index" title="제목 주소">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">drop_index_stmt</span> <span class="p">:</span> <span class="n">DROP</span> <span class="n">INDEX</span> <span class="n">if_exists</span> <span class="n">STRING</span>
</pre></div>
</div>
<p>인덱스를 삭제합니다. GLOBAL테이블의 경우에는 해당 명령어를 그대로
사용하시면 됩니다.</p>
<p>하지만, LOCAL테이블의 경우에는 해당 명령어를 사용하면 존재하는 모든
데이터에 대해서 인덱스를 삭제하게 됩니다.</p>
<p>따라서 데이터가 많이 저장되어 있을 경우 서비스에 장애가 발생할 수도
있습니다.</p>
<p>따라서 새로 저장되는 데이터부터 인덱스를 삭제하는 것이 안전하며, 방법은
DotCommand인 .table index del 를 사용하면 됩니다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">use</span> <span class="n">DDL</span><span class="p">:</span>
<span class="n">DROP</span> <span class="n">INDEX</span> <span class="n">LOCAL_TEST_TABLE_IDX</span><span class="p">;</span>

<span class="n">use</span> <span class="n">DotCommand</span><span class="p">:</span>
<span class="o">.</span><span class="n">table</span> <span class="n">indexl</span> <span class="k">del</span> <span class="n">LOCAL_TEST_TABLE_IDX</span>
</pre></div>
</div>
</div>
<div class="section" id="alter-table">
<h3><span class="section-number">1.1.5. </span>ALTER TABLE<a class="headerlink" href="#alter-table" title="제목 주소">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alter_table_stmt</span> <span class="p">:</span> <span class="n">ALTER</span> <span class="n">TABLE</span> <span class="n">table_name</span> <span class="n">ADD</span> <span class="n">COLUMN</span> <span class="n">column_define</span>
</pre></div>
</div>
<p>테이블 스키마를 변경합니다. 해당 명령어로는 컬럼 추가만 가능합니다.</p>
<p>때문에 GLOBAL로 생성된 테이블의 경우에는 컬럼 추가만 가능합니다.</p>
<p>하지만 LOCAL로 생성된 테이블의 경우에는 기존 데이터는 무시하고, 새로
저장되는 데이터부터 새로운 스키마를 적용하고 싶을 경우에는 DotCommand의
.table schema –edit 명령어를 사용하면 됩니다.</p>
<p>LOCAL테이블에 alter table을 사용할 경우에는 모든 데이터의 스키마를
변경하기 때문에 서비스 장애가 발생할 수도 있습니다.</p>
</div>
</div>
<div class="section" id="dml">
<h2><span class="section-number">1.2. </span>DML<a class="headerlink" href="#dml" title="제목 주소">¶</a></h2>
<div class="section" id="insert">
<h3><span class="section-number">1.2.1. </span>INSERT<a class="headerlink" href="#insert" title="제목 주소">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">insert_statement</span> <span class="p">:</span> <span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">STRING</span> <span class="n">LPAREN</span> <span class="n">column_list</span> <span class="n">RPAREN</span> <span class="n">VALUES</span>
                   <span class="n">LPAREN</span> <span class="n">param_list</span> <span class="n">RPAREN</span>

<span class="n">column_list</span> <span class="p">:</span> <span class="n">column_name</span>
            <span class="o">|</span> <span class="n">column_name</span> <span class="n">COMMA</span> <span class="n">column_list</span>

<span class="n">param_list</span> <span class="p">:</span> <span class="n">param</span> <span class="n">COMMA</span> <span class="n">param_list</span>
           <span class="o">|</span> <span class="n">param</span>

<span class="n">param</span> <span class="p">:</span> <span class="n">expr</span>
      <span class="o">|</span> <span class="n">value</span>
      <span class="o">|</span> <span class="n">STAR</span>
</pre></div>
</div>
<p>하나의 레코드를 추가합니다.</p>
<p>Local 테이블에 INSERT를 사용한 경우 key와 partition 값은 테이블 생성시
설정한 컬럼의 값을 사용합니다.</p>
<p>아래의 예시에서 LOCAL_TEST_TABLE은 k : keypartition, p : datepartition
로 생성되었습니다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">LOCAL_TEST_TABLE</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span> <span class="n">VALUES</span> <span class="p">(</span><span class="s1">&#39;k2&#39;</span><span class="p">,</span> <span class="s1">&#39;20110616000000&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="update">
<h3><span class="section-number">1.2.2. </span>UPDATE<a class="headerlink" href="#update" title="제목 주소">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">update_statement</span> <span class="p">:</span> <span class="n">UPDATE</span> <span class="n">table_name</span> <span class="n">SET</span> <span class="n">update_column_list</span> <span class="n">where_expression</span>

<span class="n">update_column_list</span> <span class="p">:</span> <span class="n">update_column</span>
                   <span class="o">|</span> <span class="n">update_column</span> <span class="n">COMMA</span> <span class="n">update_column_list</span>

<span class="n">update_column</span> <span class="p">:</span> <span class="n">column_name</span> <span class="n">EQ</span> <span class="n">expr</span>
</pre></div>
</div>
<p>특정 컬럼을 사용자가 원하는 값으로 변경합니다.</p>
<p>아래는 LOCAL_TEST_TABLE의 a 컬럼을 〈update’로 변경하는 예제입니다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UPDATE</span> <span class="n">LOCAL_TEST_TABLE</span> <span class="n">SET</span> <span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;update&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="delete">
<h3><span class="section-number">1.2.3. </span>DELETE<a class="headerlink" href="#delete" title="제목 주소">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">delete_statement</span> <span class="p">:</span> <span class="n">DELETE</span> <span class="n">FROM</span> <span class="n">table_name</span> <span class="n">where_expression</span>
</pre></div>
</div>
<p>WHERE 절 조건에 맞는 데이터를 삭제합니다.</p>
<p>아래는 LOCAL_TEST_TABLE중 a 컬럼이 〈update’인 레코드를 삭제하는
예제입니다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="n">FROM</span> <span class="n">LOCAL_TEST_TABLE</span> <span class="n">WHERE</span> <span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;update&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="select">
<h3><span class="section-number">1.2.4. </span>SELECT 쿼리<a class="headerlink" href="#select" title="제목 주소">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select_statement</span> <span class="p">:</span> <span class="n">SELECT</span> <span class="n">result_expression</span> <span class="n">FROM</span> <span class="n">table_expression</span> <span class="n">where_expression</span>
                   <span class="n">group_by_expression</span> <span class="n">compound_op_select</span> <span class="n">order_by_expression</span>
                   <span class="n">limit_expression</span>

<span class="n">result_expression</span> <span class="p">:</span> <span class="n">result_column</span>
                  <span class="o">|</span> <span class="n">result_column</span> <span class="n">COMMA</span> <span class="n">result_expression</span>

<span class="n">result_column</span> <span class="p">:</span> <span class="n">STAR</span>
              <span class="o">|</span> <span class="n">column_name</span>
              <span class="o">|</span> <span class="n">alias_expression</span>
              <span class="o">|</span> <span class="n">term</span>
              <span class="o">|</span> <span class="n">expr</span>

<span class="n">alias_expression</span> <span class="p">:</span> <span class="n">expr</span> <span class="n">STRING</span>
                 <span class="o">|</span> <span class="n">expr</span> <span class="n">AS</span> <span class="n">STRING</span>
                 <span class="o">|</span> <span class="n">LPAREN</span> <span class="n">select_statement</span> <span class="n">RPAREN</span> <span class="n">STRING</span>
                 <span class="o">|</span> <span class="n">LPAREN</span> <span class="n">select_statement</span> <span class="n">RPAREN</span> <span class="n">AS</span> <span class="n">STRING</span>

<span class="n">table_expression</span> <span class="p">:</span> <span class="n">table_list</span>

<span class="n">table_list</span> <span class="p">:</span> <span class="n">table_name</span>
           <span class="o">|</span> <span class="n">table_name</span> <span class="n">join_expr_list</span>

<span class="n">join_expr_list</span> <span class="p">:</span> <span class="n">join_expr</span> <span class="n">join_expr_list</span>
               <span class="o">|</span> <span class="n">join_expr</span>

<span class="n">join_expr</span> <span class="p">:</span> <span class="n">empty</span>
          <span class="o">|</span> <span class="n">join_op</span> <span class="n">table_name</span> <span class="n">join_args</span>

<span class="n">join_op</span> <span class="p">:</span> <span class="n">COMMA</span>
        <span class="o">|</span> <span class="n">INNER</span> <span class="n">JOIN</span>
        <span class="o">|</span> <span class="n">LEFT</span> <span class="n">OUTER</span> <span class="n">JOIN</span>

<span class="n">join_args</span> <span class="p">:</span> <span class="n">ON</span> <span class="n">expr</span>
          <span class="o">|</span> <span class="n">empty</span>

<span class="n">where_expression</span> <span class="p">:</span> <span class="p">[</span><span class="n">where</span><span class="p">]</span> <span class="n">expr</span>
                 <span class="o">|</span> <span class="n">empty</span>

<span class="n">group_by_expression</span> <span class="p">:</span> <span class="n">GROUP</span> <span class="n">BY</span> <span class="n">result_expression</span>
                    <span class="o">|</span> <span class="n">empty</span>

<span class="n">compound_op_select</span> <span class="p">:</span> <span class="n">compound_op</span> <span class="n">select_core</span>
                   <span class="o">|</span> <span class="n">empty</span>

<span class="n">compound_op</span> <span class="p">:</span> <span class="n">UNION</span>
            <span class="o">|</span> <span class="n">UNION</span> <span class="n">ALL</span>
            <span class="o">|</span> <span class="n">INTERSECT</span>
            <span class="o">|</span> <span class="n">EXCEPT</span>

<span class="n">order_by_expression</span> <span class="p">:</span> <span class="n">ORDER</span> <span class="n">BY</span> <span class="n">order_by_result_expression</span>
                    <span class="o">|</span> <span class="n">empty</span>

<span class="n">order_by_result_expression</span> <span class="p">:</span> <span class="n">result_column</span>
                           <span class="o">|</span> <span class="n">result_column</span> <span class="n">ASC</span>
                           <span class="o">|</span> <span class="n">result_column</span> <span class="n">DESC</span>
                           <span class="o">|</span> <span class="n">result_column</span> <span class="n">COMMA</span> <span class="n">order_by_result_expression</span>
                           <span class="o">|</span> <span class="n">result_column</span> <span class="n">ASC</span> <span class="n">COMMA</span> <span class="n">order_by_result_expression</span>
                           <span class="o">|</span> <span class="n">result_column</span> <span class="n">DESC</span> <span class="n">COMMA</span> <span class="n">order_by_result_expression</span>

<span class="n">limit_expression</span> <span class="p">:</span> <span class="n">ideallimit_expression</span>
                 <span class="o">|</span> <span class="n">mlimit_expression</span>
                 <span class="o">|</span> <span class="n">dlimit_expression</span>

<span class="n">ideallimit_expression</span> <span class="p">:</span> <span class="n">LIMIT</span> <span class="n">NUMBER</span>
                      <span class="o">|</span> <span class="n">LIMIT</span> <span class="n">NUMBER</span> <span class="n">COMMA</span> <span class="n">NUMBER</span>
                      <span class="o">|</span> <span class="n">empty</span>

<span class="n">mlimit_expression</span> <span class="p">:</span> <span class="n">MLIMIT</span> <span class="n">NUMBER</span>
                  <span class="o">|</span> <span class="n">MLIMIT</span> <span class="n">NUMBER</span> <span class="n">COMMA</span> <span class="n">NUMBER</span>
                  <span class="o">|</span> <span class="n">empty</span>

<span class="n">dlimit_expression</span> <span class="p">:</span> <span class="n">DLIMIT</span> <span class="n">NUMBER</span>
                  <span class="o">|</span> <span class="n">DLIMIT</span> <span class="n">NUMBER</span> <span class="n">COMMA</span> <span class="n">NUMBER</span>
                  <span class="o">|</span> <span class="n">empty</span>
</pre></div>
</div>
<p>LOCAL 테이블에 대한 쿼리를 실행할 때에는 LOCATION HINT 를 반드시
사용하세요.</p>
<p>아래는 검색 쿼리의 기본 예제 입니다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">예시</span><span class="p">)</span>
<span class="o">/*+</span> <span class="n">BYPASS</span><span class="p">,</span> <span class="n">LOCATION</span> <span class="p">(</span><span class="n">KEY</span> <span class="o">=</span> <span class="s1">&#39;k1&#39;</span> <span class="n">AND</span> <span class="n">PARTITION</span> <span class="o">&gt;=</span> <span class="s1">&#39;20150101000000&#39;</span>
<span class="n">AND</span> <span class="n">PARTITION</span> <span class="o">&lt;</span> <span class="s1">&#39;20150102000000&#39;</span><span class="p">)</span> <span class="o">*/</span>
<span class="n">SELECT</span> <span class="o">*</span> <span class="n">FROM</span> <span class="n">LOCAL_TEST_TABLE</span><span class="p">;</span>

<span class="o">/*+</span> <span class="n">LOCATION</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="o">&gt;=</span> <span class="s1">&#39;20150101000000&#39;</span> <span class="n">AND</span> <span class="n">PARTITION</span> <span class="o">&lt;</span> <span class="s1">&#39;20150102000000&#39;</span><span class="p">)</span> <span class="o">*/</span>
<span class="n">SELECT</span> <span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">/</span> <span class="n">count</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="n">FROM</span> <span class="n">LOCAL_TEST_TABLE</span> <span class="n">WHERE</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</div>
<div class="section" id="id1">
<h4><span class="section-number">1.2.4.1. </span>유의사항<a class="headerlink" href="#id1" title="제목 주소">¶</a></h4>
<p>[*] 컬럼 사용에 제약사항이 있습니다.</p>
<ul>
<li><p>Table Alias 를 지원하지 않습니다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FAIL</span> <span class="p">:</span> <span class="n">select</span> <span class="n">a</span><span class="o">.*</span> <span class="kn">from</span> <span class="p">(</span><span class="n">select</span> <span class="o">*</span> <span class="kn">from</span> <span class="nn">X</span><span class="p">)</span> <span class="n">a</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p>단일 테이블을 사용한 에서만 사용할 수 있습니다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FAIL</span> <span class="p">:</span> <span class="n">select</span> <span class="o">*</span> <span class="kn">from</span> <span class="nn">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">;</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; 저작권 2020, mobigen
      <span class="lastupdated">
        최종 업데이트: 11월 16, 2020 15:32
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>