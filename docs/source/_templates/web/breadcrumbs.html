{# Support for Sphinx 1.3+ page_source_suffix, but don't break old builds. #}

{% if page_source_suffix %}
  {% set suffix = page_source_suffix %}
{% else %}
  {% set suffix = source_suffix %}
{% endif %}

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="{{ pathto(master_doc) }}">Docs</a> &raquo;</li>
    {% for doc in parents %}
      <li><a href="{{ doc.link|e }}">{{ doc.title }}</a> &raquo;</li>
    {% endfor %}
    <li>{{ title }}</li>
    <li class="wy-breadcrumbs-aside">
      {% if pagename != "search" %}
        {% if display_github %}
          <!-- <a href="https://{{ github_host|default("github.com") }}/{{ github_user }}/{{ github_repo }}/blob/{{ github_version }}{{ conf_py_path }}{{ pagename }}{{ suffix }}" class="fa fa-github"> Edit</a> -->
            {% if pagename == "index" %}
              <!-- https://github.com/mobigen/IRIS-Documentation/tree/master/docs -->
              <a href="https://{{ github_host|default("github.com") }}/{{ github_user }}/{{ github_repo }}/tree/{{ github_version }}docs" class="fa fa-github"> Edit</a>
            {% else %}
            <!--
            <p>github_user = {{ github_user }}</p>
            <p>github_repo = {{ github_repo }}</p>            
            <p>github_version = {{ github_version }}</p>
            <p>conf_py_path = {{ conf_py_path }}</p>
            <p>pagename = {{ pagename }}</p>

            {% set list1 = pagename.split('/', 1) %}
            <p>list1[0] = {{ list1[0] }}</p>
            <p>list1[1] = {{ list1[1] }}</p>
            <p>list1[2] = {{ list1[2] }}</p>
            {{ github_repo | replace( "IRIS-Documentation", list1[0] ) }}
            {{ pagename | replace( " IRIS-Tutorial/IRIS_Analyzer/index", list1[1] ) }}

            <p>github_repo2 = {{ github_repo }}</p>
            <p>pagename2 = {{ pagename }}</p>
            -->
            <!-- <a href="https://{{ github_host|default("github.com") }}/{{ github_user }}/{{ github_repo }}/blob/{{ github_version }}{{ conf_py_path }}{{ pagename }}{{ suffix }}" class="fa fa-github"> Edit</a> -->
            <a href="https://{{ github_host|default("github.com") }}/{{ github_user }}/{{ list1[0] }}/blob/{{ github_version }}{{ conf_py_path }}{{ list1[1] }}{{ list1[2] }}{{ suffix }}" class="fa fa-github"> Edit</a>
            {% endif %}
        {% elif display_bitbucket %}
          <a href="https://bitbucket.org/{{ bitbucket_user }}/{{ bitbucket_repo }}/src/{{ bitbucket_version}}{{ conf_py_path }}{{ pagename }}{{ suffix }}" class="fa fa-bitbucket"> Edit</a>
        {% elif show_source and source_url_prefix %}
          <a href="{{ source_url_prefix }}{{ pagename }}{{ suffix }}">View page source</a>
        {% elif show_source and has_source and sourcename %}
          <a href="{{ pathto('_sources/' + sourcename, true)|e }}" rel="nofollow"> View page source</a>
        {% endif %}
      {% endif %}
    </li>
  </ul>
  <hr/>
</div>
